# tmdb_api
Этот проект поможет вам найти похожие фильмы при помощи авторского алгоритма.
База данных с фильмами будет жить у вас на компьютере, поэтому вы сможете получать рекомендации 
даже оффлайн.

## Как пользоваться
1. Скачайте файлы из репозитория, перейдите в каталог проекта и установите необходимые 
библиотеки командой:
    ```commandline
    pip install -r requirements.txt
    ```
2. Вам понадобится токен для доступа к API The Movie Database. Получить его можно 
на [сайте проекта](https://developers.themoviedb.org/3/getting-started/introduction).
Сохраните токен на своем компьютере и будьте готовы вставить его в терминал в дальнейших шагах 
для получения данных с сайта. 
3. Вы можете проверить действительность своего токена с помощью скрипта `hello_api_TMDB.py` 
(если вы находитесь не в каталоге проекта, замените `./` на путь к файлу):
    ```commandline
    python3 ./hello_api_TMDB.py
    ```
4. Создайте базу данных с фильмами на своем компьютере, вызвав в терминале скрипт `make_own_db.py` 
(запустите его как на примере из предыдущего шага).
Дальнейшие операции производятся с вашей БД и не требуют запросов к сайту.
БД сохранится в файле `MyFilmDB.json` в каталоге проекта. Эта информация пригодится вам в 
дальнейших шагах.
5. Для поиска похожих фильмов вам понадобится точное полное название фильма, 
к которому вы хотите найти похожие. Если вы не знаете полного названия, воспользуйтесь 
скриптом `search_in_db.py` для поиска по ключевым словам. Скопируйте полное название 
желаемого фильма и переходите к следующему шагу.
6. Скрипт `find_similar.py` подберет похожие фильмы по точному названию понравившегося вам фильма.
Запустите скрипт и следуйте шагам в нем, чтобы получить рекомендации.

Более подробная информация по каждому файлу доступна ниже.

### Файл make_own_db.py
Это файл для создания БД с фильмами в виде json-файла. Вам потребуется ввести API-токен для 
The Movie Database API, после чего скрипт выгрузит с сайта в БД информацию о почти 
тысяче фильмов (почти -- потому что страниц по адресам некоторых ID на сайте может не оказаться).
БД сохранится в файле `MyFilmDB.json` в каталоге проекта. 

### Файл search_in_db.py
Это файл для поиска фильмов в БД по оригинальному названию. Вам понадобится ввести путь к 
json-БД с фильмами, а затем поисковый запрос (ключевое слово или фразу). На экран будут выведены 
названия найденных фильмов.
![image](https://user-images.githubusercontent.com/96616212/199139140-0ad73ff4-04a9-4614-84be-6bd486db5315.png)

### Файл find_similar.py
Это файл для поиска похожих фильмов. Вам потребуется ввести путь к json-БД с фильмами и точное название 
фильма, для которого вы хотите найти похожие. Фильмы подбираются по следующим параметрам, в порядке 
убывания важности (веса): 
1. та же коллекция; 
2. тот же жанр;
3. тот же язык;
4. тот же бюджет.

Скрипт проанализирует фильмы в вашей БД, найдет похожие на запрашиваемый фильмы и выведет на экран рекомендации 
с рейтингом подобности для каждой.

```python
params = {
    'belongs_to_collection': 1000,
    'original_language': 300,
    'budget': 100,
    'genres': 500
}
```

### Файл hello_api_TMDB.py
Это файл для проверки API-токена. Если ввести действительный API-токен, в терминал выведется
бюджет фильма "Пила 2".

### Файл tmdb_helpers.py
Этот файл содержит служебные функции для получения и обработки информации о фильмах от 
The Movie Database API, а также для получения API-токена от пользователя из консоли.
Он не предназначен для прямого использования.

### Файл own_db_helpers.py
Это служебный файл для загрузки информации о фильмах из json-БД. Не предназначен для прямого использования.

## Цель проекта
Проект написан в учебных целях для школы Python-разработчиков [dvmn.org](dvmn.org).
